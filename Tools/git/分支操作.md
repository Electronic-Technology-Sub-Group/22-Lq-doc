> 分支：当多人协作时，从主线开发分离的副本，用于单独解决某个问题（新增功能，修复bug等）的独立支线，之后经审查后可以合并回主线

# 分支

通过 `git branch` 可以查看项目的分支，在查看 `git log` 时可以看到分支信息

![[Pasted image 20221213045434.png]]

# 分支操作

分支的创建、删除、查看等基本都是在 `git branch` 命令中实现的。

![[Pasted image 20221213050554.png]]

**分支删除操作时，只能删除其它分支，不能删除当前分支**

![[git branch]]

# 分支切换

切换分支通过 `git checkout` 实现。我们应尽量保证本地修改已经全部提交，以防分支切换失败

可以通过 `-b` 参数创建并切换分支，当分支不存在时，自动创建对应分支。

![[Pasted image 20221213051110.png]]

![[git checkout]]

# 分支合并

当分支的任务完成时，应当合并到主分支上，通过 `git merge` 实现

![[Pasted image 20221213052305.png]]

**注意：将分支 A 的提交合并到 分支 B，应当在分支 B 执行 `git merge`**

## 冲突解决

> 冲突：当多个分支同时修改了同一个文件，且 git 无法自动合并时，会产生冲突

当多个文件冲突时，git 会自动将两个文件冲突的内容都放到一个文件里，在命令行中会显示哪些文件冲突了。此时我们要手动编辑这些文件，然后将冲突部分重新 commit 一遍即可。

![[Pasted image 20221213054612.png]]

git 会自动把两个不同的内容都放在冲突的文件中，按需选择即可

![[Pasted image 20221213054715.png]]

修改后，记得提交，冲突后提交可以省略 `-m` 等参数，git 会自动生成一段解决冲突的描述

![[Pasted image 20221213054851.png]]

# 分支规范
- master：线上分支，主分支
- develop：主要开发分支，为 master 分支的子分支
- feature/xxx：新功能分支，为 develop 分支的子分支，完成后合并到 develop 分支
- hotfix/xxx：bug 修复分支，为 master 分支的子分支，完成后合并到 master 和 develop 分支
- 其他：测试分支 test，预上线分支 pre 等  
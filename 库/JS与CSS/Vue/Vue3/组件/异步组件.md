# 异步组件

一个 Web 应用可以拆分成多个组件，Vue 允许在需要的时候异步加载对应组件并缓存下来，避免非必须的开销，使用 `Vue.defineAsyncComponent` 创建。

```js
const AsyncCom = Vue.defineAsyncComponent(() => {
    return new Promise((resolve, reject) => {
        // 模拟一个需要 5s 加载的异步组件
        window.setTimeout(() => {
            resolve({
                template: `<div>5s 后组件加载成功，现在是 ${new Date()}</div>`
            })
        }, 5000)
    })
})
Vue.createApp({})
    .component('async-com', AsyncCom)
    .mount('#app')
```

```html
<div id="app">
    <p>现在是 {{ new Date() }}</p>
    <async-com></async-com>
</div>
```

![[image-20240524134115-pibe1qx.png]]

‍

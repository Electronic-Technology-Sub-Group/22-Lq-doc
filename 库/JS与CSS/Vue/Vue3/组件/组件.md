# 组件

组件 `Component` 是可扩展 HTML 元素，既是封装的可重用代码，又是 Vue 实例。

每个组件维护单独的一组数据，相同组件的多个实例数据不共享数据

Vue 组件通过注册到 Vue app 中生效，在页面中使用组件名作为标签名使用。

* 全局注册：通过 `app.component(组件名, 组件配置)` 注册全局组件

  ```js
  let app = Vue.createApp({})
  app.component('button-counter', {
      data() {
          return {
              count: 0
          }
      },
      // 组件内容
      template: '#button-counter'
  })
  app.mount('#components-demo')
  ```

  ```html
  <body>
  <template id="button-counter">
      <button @click="count++">You click me {{count}} times</button>
  </template>

  <div id="components-demo">
      <button-counter></button-counter><br>
      <button-counter></button-counter><br>
      <button-counter></button-counter>
  </div>
  </body>
  ```
* 局部注册：通过普通 JS 对象定义组件，使用 app 或组件的 `components` 注册组件

  局部组件只在注册组件的作用域下生效

  ```html
  <div id="components-demo">
      <!-- component-a 不在作用域内，不生效，不会被渲染 -->
      <component-a></component-a><br>
      <component-b></component-b>
  </div>
  ```

  ![[image-20240523154533-c7u297t.png]]

  ```js
  const ComponentA = {
      template: '<span>这是私有组件 A</span>'
  }
  const ComponentB = {
      components: {
          // component-a 是 ComponentB 的私有组件
          // 只能在 ComponentB 中使用
          'component-a': ComponentA
      },
      template: '<span>这是私有组件 B</span>'
  }
  let app = Vue.createApp({
      // 只注册了 component-b
      // component-a 为 component-b 的私有组件，在 app 中不生效
      components: {
          'component-b': ComponentB
      }
  }).mount('#components-demo')
  ```

‍

# 声明式事务管理

Spring 支持注解的声明式事务管理，使用 Spring 的 `@Transactional` 注解对应方法和类即可。

`@Transactional` 注解类，则类中所有方法的数据库操作均会作为事务提交

通过 `tx:annotation-driven` 开启声明式事务管理。Java 注解 `@EnableTransactionManagement` 与改标签作用相同，标注在被 `@Configuration` 注解的类上。

```xml
<beans ...
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="... http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd">

    <bean id="txManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
        <property name="dataSource" ref="dataSource"/>
    </bean>

    <tx:annotation-driven transaction-manager="txManager" />
</beans>
```

允许定义和使用多个 `TransactionManager`。此时 `transaction-manager` 属性省略，并在注解时指定事务管理器

```java
@Transactional(transactionManager = "txManager")
```

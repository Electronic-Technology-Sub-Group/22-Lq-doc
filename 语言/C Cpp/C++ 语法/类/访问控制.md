`class` 默认成员就是私有的，也可使用 `private` 声明

```c++
class A {
    int v1;  // 私有
public:
    int v2;  // 公共
private: 
    int v3;  // 私有
protected:
    int v4;  // 保护
}
```
# 友元

使用 `friend` 声明，他们对类成员的访问权限与类内成员相同

友元成员可以是**全局函数**，**其他类成员（包括构造）** ，**友元类**等

```c++
class Box {
private:
    int width;
    int height;
    int length;
friend:
    int size(const Box &box);
}

// 友元可以直接访问到其私有成员
int size(const Box &box) {
    return box.width * box.height * box.length;
}
```

## friend 声明模板形参
#cpp11

友元类可以忽略 `class`

> [!info] 一些编译器 C++ 11 之前的标准也可以使用

```c++
class C;
class X {
    friend C;
}
```

类型 `C` 可以是一个普遍意义上的类型，如基本类型、类型模板参数、类型别名等

```c++
class C;
typedef C Ct;

template<class T>
class X {
    friend void;
    friend int;
    friend C;
    friend Ct;
    friend T;
}
```

一个用法是通过模板声明友元，在不同情况下让不同的类作为友元类：

```c++
class InnerVisitor { /* do something */ };

template<class T>
class SomeDatabase {
    friend T;
    // do something
}

// 内部诊断使用，允许使用 InnerVisitor 操作和查看数据库类私有成员
typedef SomeDatabase<InnerVisitor> DiagDatabase;
// 外部使用，没有友元类
typedef SomeDatabase<void>         SimpleDatabase;
```

# 整型

| 数据类型                 | 简写                 | 内存（字节） | 字面量标记     | 字面量实例          | 备注            |
| -------------------- | ------------------ | ------ | --------- | -------------- | ------------- |
| signed short int     | short              | 2      | 无         |                |               |
| unsigned short int   | unsigned short     | 2      | 无         |                |               |
| signed int           | int                | 4      | 普通整数      | 3, -40         |               |
| unsigned int         | unsigned int       | 4      | u 或 U     | 10u, 8U        |               |
| signed long int      | long               | 4 或 8  | l 或 L     | 123456l        |               |
| unsigned long int    | unsigned long      | 4 或 8  | ul 或 UL   | 12345ul        |               |
| signed long long int | long long          | 8      | ll 或 LL   | -123ll, 321LL  | #cpp11        |
| unsigned long long   | unsigned long long | 8      | ull 或 ULL | 456ull, 654ULL |               |
| size_t               |                    |        | uz 或 zu   |                | 平台相关，用于统计成员数量 |

`long int`、`unsigned long int` 类型长度为 4 或 8，由具体编译器及其参数决定，VS 和 g++ 默认都是 4 字节，表示的大小范围也与对应的 `int` 类型相同，一般不用。

整型类型可以使用科学计数法，使用 `e` 或 `E` 加数字表示 `10^n`，但直接使用科学计数法往往表示浮点的字面量。

```c++
int a {5e3};  // 5000
```

根据不同字面量前缀，可以使用不同进制输入整型

| 进制   | 字面量前缀 | 字面量实例  | 其他     |
| ---- | ----- | ------ | ------ |
| 十进制  | 无     | 10     |        |
| 八进制  | 0     | 010    |        |
| 十六进制 | 0x    | 0xFFFF |        |
| 二进制  | 0b    | 0b101  | #cpp14 |

#cpp14 为便于阅读，`'` 符号可以作为整型字面量的分隔符
# 浮点

浮点型用于表示小数，采用 IEEE 754 标准表示法，使用 `float` 和 `double` 声明。

|类型|占用内存（字节）|值域|精度|
| -------------| ------------------| ---------------| ------------------|
|float|4|±3.4e(±38)|约 7 位小数准确|
|double|8|±1.7e(±308)|约 15 位小数准确|
|long double|8 或 16|||

浮点数类型可以使用科学计数法，使用 `en` 或 `En` 表示 `10^n`。若整数部分为 0，可省略 0。

```run-cpp
int main() {
    double a {1.0e5};
    double b {1.0e-5};
    double c {.345};

    cout << "a=" << a << endl;
    cout << "b=" << b << endl;
    cout << "c=" << c << endl;
}
```
## 扩展浮点类型
#cpp23

IEEE 754 定义的所有浮点数中，仍有三种浮点数 C++ 没有实现：
* FP16：16 位浮点
* bfloat16：广泛用于机器学习的 16 位浮点，精度较低但支持数字更大
* FP128：128 位浮点。`long double` 没有规定具体多少位不算

C++23 增加了“扩展浮点类型”概念，并在 `<stdfloat>` 头文件中内置了对应类型。
## 16 进制浮点数

#cpp11 十六进制的浮点字面量可表示为 `0x1.f4p+9` 的形式，并添加了用于浮点数与十六进制字符串的转换函数 `std::hexfloat` 与 `std::defaultfloat`

#cpp17 可以向 `cin` 传入 `std::hexfloat` 控制符后直接读十六进制浮点数
# 字符

| 类型      | 占用内存（字节） | 使用场景               | 字面量标记 | 实例        |
| ------- | -------- | ------------------ | ----- | --------- |
| char    | 1        | 英文字符，控制符等 ASCII 字符 | ' '   | 'a', '\n' |
| wchar_t | 2        | 中文字符等 Unicode 字符   | L' '  | L'好'      |

char 类型转换为整型后，其他小等于其 ASCII 码大小，通常为无符号但不绝对，大小范围在 $[0, 255]$

> [!warning] `unsigned char` 类型是 Viscal C++ 定义的一个无符号类型，不属于 `C++` 标准类型

字符及字符串中，使用 `\` 表示转义字符，用于替代有其他意义的字符、控制字符等无法直接表示的字符。
* 具有特殊意义的字符，如 `\"`,  `\'` 等用于表示 " 和 '，`\\` 用于表示 `\`，`\?` 用于在某些会引起歧义的特殊情况下表示 ? 等
* 控制字符，如 `\n` 表示换行，`\t` 表示 Tab 等
## Unicode 字符类型

用于不同 Unicode 编码的字符类型

|类型|字符集|字符前缀|字符串前缀|加入版本|
| --------------------------------------| ------------------------------------| -------------------------------------| ----------------------| ------------------------------------------|
|char8_t<br />|UTF-8<br />|u8<br />|无| #C ++20#|
||||u8| #C ++17#|
|char16_t|UTF-16|u16，u<br />|| #C ++11#<br />|
|char32_t|UTF-32|u32，U|||

```c++
// 用于字符
char8_t u8char = u8'a';
char16_t u16char = u'你';
char32_t u32char = U'好';

// char8_t 可以直接转换成 char，但有警告
char ch = u8char;

// 用于字符串
auto str8 = u8"hello world";
auto str16 = u"你好世界";
auto str32 = U"你好世界";
```

`cuchar`，`string` 等标准库包含相对应类型支持，如 `u32string` 类型。
## C 风格字符串

C 语言中，使用字符指针 `char*` 或字符数组 `char[]` 表示字符串。 #cpp11 仅允许使用 `const char*` 接受字符串。

C++03 字符串分为 `char` 和 `wchar_t`，其中 `wchar_t` 为了对 `Unicode` 编码的兼容。

```c++
char str[6] {"hello"};
const char* str2 = "every one";
wchar_t str3[] {L"Unicode chars"};
```

> [!warning] 字符串以 `\0` 结尾，因此字符串**数组**长度应比字符串长度多 1

可使用 `getline` 从控制台获取字符串，且位于 `cstring` 头文件中（C 中的 `string.h`）内置了大量处理字符串的函数

```c++
char name[80];
// 获取最多 80 个字符，遇到 \n 停止
cin.getline(name, 80, '\n');
```

使用 `""` 表示字符串字面量：`"this is a string"`

* 宽字符串：用于 Unicode 字符串（UTF-8/UTF-16 等），使用 `L` 前缀

```c++
wchar_t s[] { L"Hello, I'm 鹿钦." };
```

* C++ 支持多行字符串

```c++
char s[] {
    "This is a very long string that "
    "has been spread over two lines."
};
```
## 原始字符串
#cpp11  

这类字符串中不会处理转义字符

```c++
prefixR"delimiter(The String Data \ Stuff " )delimiter";
```
* 字符串内容为 `delimiter(` 与 `)delimiter` 之间的内容
	* `prefix` 表示字符串类型前缀，包括 `L`，`u`，`U`，`u8`
	* `delimiter` 为最多 16 个字符（可以为空），但不可包含空格，`(`，`)`，`\`，控制字符，可搭配 `u8`，`u`，`U` 等结合

```c++
u8R"XXX(I'm a "raw UTF-8" string.)XXX";
uR"*(This is a "raw UTF-16" string.)*";
UR"(This is a "raw UTF-32" string.)";
```

```c++
// 最简单的原生字符串，prefix 和 delimiter 都为空
char html[] = R"(<!DOCTYPE html>
<html lang="en">
</html>
)";
```
# 布尔

布尔值类型 `bool` 仅有 `true` 和 `false` 两个值，占用一个字节，常用于逻辑判断。

>[!note] 当通过 `cout` 或 `printf` 输出时，`true` 输出为 `1`，`false` 输出为 `0`

```run-cpp
int main() {
    bool a {true};
    bool b {false};
    cout << "a=" << a << ", b=" << b << endl;
}
```

`true` 转换为整型后结果为 `1`，`false` 转换为整型后结果为 `0`
# 类型提升

`bool` = `unsigned short` = `short` = `char` < `int` < `unsigned int` < `long` < `unsigned long` < `long long` < `unsigned long long` < `float` < `double` < `long double`

数学运算中，类型会被提升到参与运算类型中能表达范围最大的数据类型；若参与运算的所有类型均在 `int` 之下，则直接提升到 `int`

布尔运算中，所有数字 `0`，字符 `\0`，指针 `nullptr` 相当于 `false`；而其他值转换为 `bool` 都为 `true`

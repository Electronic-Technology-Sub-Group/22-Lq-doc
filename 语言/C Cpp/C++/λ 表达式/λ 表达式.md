---
语言: cpp
语法类型: 中级语法
---
#cpp11

> [!note] `λ` 表达式：又称匿名函数，一种没有名称，不需要要显式类定义、重载了 () 运算符的函数对象。

```cpp
[ captures ] ( params ) specifiers exception -> ret { body }
```

* `capture`：捕获值。用于向 `λ表达式` 传入局部变量，使用 `,` 分割。设作用域中存在变量 `a`，`b`，`c`：
    * `captures`：[[捕获列表]]，捕获后可在 lambda 表达式内访问，包括按值捕获和引用捕获两种
    * `params`：可选参数列表，格式与函数形参列表相同，若无参数则可省略包括括号在内的整个参数列表部分
    * `specifiers`：可选限定符，C++11 可用 `mutable`
        * `mutable`：允许 lambda 表达式内修改按值捕获的参数值，或调用非 const 成员函数
    * `exceptions`：异常列表，若无异常可省略或使用 `noexcept`
    * `ret`：返回值类型，若返回 `void` 或可以直接通过函数体推断出来则可以省略包括 `->` 在内的整个返回值类型部分
    * `body`：lambda 表达式的函数体，与普通函数的函数体相同

捕获列表和函数体是必须存在的部分，因此最简单的 lambda 表达式可以表示为 `[]{}`。

>[!note] lambda 表达式实际上是一个语法糖，编译器自动生成一个重写了 `operator()` 运算符的类实例。

- λ 表达式支持[[泛型 λ 表达式|模板]]
- 没有捕获的 λ 表达式称为[[无状态 λ 表达式]]，可以隐式转换为函数指针
- λ 表达式可以是[[constexpr λ 表达式|constexpr]]的
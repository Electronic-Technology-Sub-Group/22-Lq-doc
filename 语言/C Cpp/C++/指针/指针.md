---
语言: cpp
语法类型: 基础语法
---
> [!note] 指针：存储内存地址的变量

内存地址通过对变量使用取址运算符 `&` 获取，使用 `*` 声明

> [!note] 指针变量名称常以 `p` 为前缀

```cpp
int value {10};
int *p = &value;
```

> [!note] 一般来说，`*` 符号靠近变量名，表示该变量是一个指针。

```cpp
// p 是一个 int 类型指针，未初始化
// a 和 b 是一个整形
// pa 是一个 int 类型指针，指向 a
int *p, a {10}, *pa {&a}, b {20};
```

指向空地址的指针称为[[空指针]]，使用 `nullptr` 表示。

指针地址可以直接输出，也可以转化成 `intptr_t` 类型将其转化成数字。

```cpp
int a, *pa = &a;
cout << "pa=" << pa << endl;
cout << "pa=" << (intptr_t) pa << endl;
```

> [!danger] 未初始化的指针指向不可预测的内存区域，其地址随机，直接使用很危险
> 在声明指针后应当使用具体地址初始化。若没有具体指向地址，或对象已删除时，应当使用空指针对其初始化。

指针可以用作 `if` 判断，空指针隐式转化为 `false`

指针可以被 `const` 关键字[[const 修饰|修饰]]，可以表示常指针或者指向常量的指针

指针与指针、指针与整数之间可以[[指针运算|运算]]

指针作用包括但不限于：
* [[动态内存分配/动态内存分配|动态内存分配]]：使用 `new` 和 `delete` 在堆上动态分配内存，节省栈空间
* [[数组与指针|处理数组数据]]：数组名指代第一个元素的地址
* 访问函数外的大块数据：使用指针传参，避免复制
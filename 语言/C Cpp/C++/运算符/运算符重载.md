---
语言: cpp
语法类型: 中级语法
---
在 C++ 中，一个类型的大多数运算符都可以重载，除了
* `::` 作用域解析运算符，用于访问类的静态成员
* `?:` 三元运算符
* `.` 直接成员选择运算符，用于通过对象直接访问成员（没错这也是运算符）
* `sizeof` 操作符，用于计算类占用内存字节数
* `.*` 指针解引用操作符

运算符重载通过声明以 `operator 运算符` 为名的函数重载

```cpp
class A {
public:
    bool operator<(const A& other) const;
}
```

`operator` 和运算符之间可以没有空格，也可以添加空格。但若操作符是单词，如 `new` 和 `delete`，则 `operator` 之后需要空格避免歧义。

运算符支持 `const` 修饰符，当重载的运算符不修改原对象时，应当使用 `const` 修饰。

重载运算符可以不在类中，只需要提供足够的参数即可。

* `operator()()` 重载了 `()` 运算符，这类对象可像函数一样调用，是一种仿函数，如 λ 表达式
* `operator=()` 重载赋值运算符
* `++`，`--` 重载时，前后缀通过参数列表体现：
    * `T& operator++()` --> ++a
    * `T& operaotr++(T)` --> a++
* 比较运算符只需要重载 `<` 和 `==` 运算符即可，剩下的可以通过使用标准库中 `std::rel_ops` 命名空间的相关函数直接实现。

重载`()` 运算符时，允许该重载函数为[[静态 () 运算符|静态函数]]，在某些情况下可节省一次 this 传递

允许将默认 `==` 比较函数[[按值默认比较|声明为友元函数]]。
---
_filters: []
_contexts: []
_links: []
_sort:
  field: rank
  asc: false
  group: false
_template: ""
_templateName: ""
---
Rust 是一门存在指针的语言，最常见的指针是引用。**智能指针**是一类数据结构，表现为指针但拥有额外的元数据和功能，大部分情况下智能指针拥有其所指数据的所有权。

很多库都有自己的智能指针结构，Rust 标准库也提供了一些常用的智能指针

- ​`Box<T>`​: 用于在堆上分配的值
- ​`Rc<T>`​: 其数据可有多个所有者，通过引用计数控制
- ​`Ref<T>`​, `RefMut<T>`​: 通过 `RefCall<T>`​ 访问

自定义智能指针需要实现实现 `Deref`​ 和 `Drop`​ trait

- ​`Deref`​: 允许结构体实例的表现与引用类似，因此可以作为引用使用
-​ `Drop` ​: 自定义当离开作用域时运行的代码，因此大部分智能指针会在作用域外清理数据

